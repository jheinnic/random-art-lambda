let Konva = require('konva-node');
var assert = require('assert');

describe('Canvas', function () {
    describe('#drawCircle', function () {
        it('should draw a red circle', function () {
            const stage = new Konva.Stage({
                width: 500,
                height: 500
            });
            // then create layer
            var layer = new Konva.Layer();

            // create our shape
            var circle = new Konva.Circle({
                x: stage.width() / 2,
                y: stage.height() / 2,
                radius: 70,
                fill: 'red',
                stroke: 'black',
                strokeWidth: 4
            });

            // add the shape to the layer
            layer.add(circle);

            // add the layer to the stage
            stage.add(layer);

            // draw the image
            layer.draw();

            assert.strictEqual(stage.toDataURL({pixelRatio: 1}), 'data:image/png;base64,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');
        });
    })
});